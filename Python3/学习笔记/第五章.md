# 第五章 阅读高质量代码

python 核心设计概念：代码的可读性

1. 阅读 HowDoI 项目代码（github可找）
    (1) 结构示例:
        1) 一个函数只做一件事: 联想到设计模式，这就是所谓的职责分明，易于维护
        2) 利用系统提供的数据
    (2) 风格示例:
        1) 带下划线前缀的函数名: 将函数标识为仅供内部使用，这是 Python 约定俗成的，当然可以不用下划线，只是为了方便标识
        2) 仅在移除地方处理兼容性问题: 可读性很重要，这是为了处理好可能存在的不同依赖版本的差异，防止版本检查的代码到处都是，给用户提供便利
        3) 符合 Python 风格的写法: 优美胜于丑陋，把代码写得优美一点，别人看起来自然就会舒服点，比如 PEP8的代码风格

2. 阅读 Diamond 项目代码
    (1) 结构示例:
        1) 将不同的功能划分到不同的命名空间: 在代码里面使用命名空间是一个很好的主意，不仅方便开发，还有效防止了命名的冲突
        2) 用户可扩展自定义类: 复杂胜于难懂，内部代码可以复杂实现，但提供的应该是简单的用户接口
    (2) 风格示例:
        1) 闭包的使用用例: 闭包是一种函数，利用在局部作用域中可用但在含漱液调用时不可用的变量，比如在这个项目中使用的闭包的延迟绑定

3. 阅读 Tablib 库代码
    (1) 结构示例:
        1) 无须面向对象代码来实现对各种文件格式的支持(使用命名空间来组织函数): 如何使用模块作为命名空间来分离函数，而不是使用不必要的类
        2) 描述符合属性装饰器: 制造不可变性以实现更好的 API
        3) 以编程方式注册文件格式: 使得整个包的模块化更好，易于添加新的文件格式
        4) 在软件包中捆绑依赖
        5) 使用__slots__来节约内存: 明智而审慎地进行优化，因为相对于运行速度，Python 更在意代码的可读性
    (2) 风格示例:
        1) 运算符重载: 优美胜于丑陋，运算符重载将深入 Python 数据模型的细节当中，为类定制行为以便于别人使用你的 API 编写出优美的代码

# 总结
    如何阅读高质量的代码，主要有几个步骤:
    (1) 首先阅读代码文档，很多项目的文档都会详细描述其作用以及注意事项等，这是了解代码很重要的一步
    (2) 使用项目代码，知之不如行之，想要更好地了解项目，把它使用起来并能正确运行也是必不可少的一步
    (3) 阅读代码，想要提高自己的代码水平，阅读源代码更是最为重要的一步，从别人的代码中可以了解到很多自己不会的东西，学习别人的代码结构和风格，日积月累，代码水平自然就高了
